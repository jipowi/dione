<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">
<ui:composition template="/templates/menuPrincipalTemplate.xhtml">
	<ui:define name="content">
		<p:panel>
			<p:messages id="messagesSyllabus" showDetail="true" autoUpdate="true" closable="true" />
			<h:form id="formPrincipal">
				<div align="center">
					<h:panelGrid columns="1">
						<p:outputLabel value="#{message['lbl.titulo.syllabus']}" styleClass="negrita" />
					</h:panelGrid>
				</div>
				<p:spacer height="15px;" />
				<!-- BUSCADOR DOCENTE -->
				<h:panelGrid columns="1">
					<p:panel>
						<f:facet name="header">
							<h:outputText value="#{message['lbl.buscarSyllabus']}" />
						</f:facet>
						<h:panelGrid columns="2">
							<h:panelGrid columns="2">
								<p:outputLabel value="#{message['lbl.cedula']}" styleClass="negrita" />
								<p:inputText value="#{syllabusBean.cedula}" />
							</h:panelGrid>
							<p:commandLink title="Buscar aseguradoras" action="#{syllabusBacking.buscarDocente()}" update="@form, formPrincipal:idSyllabus">
								<h:graphicImage name="search.png" library="img" />
							</p:commandLink>
						</h:panelGrid>
					</p:panel>
				</h:panelGrid>
				<p:spacer height="30px;" />
				<div align="center">
					<!-- SYLLABUS -->
					<h:panelGrid columns="1" id="idSyllabus" rendered="#{syllabusBacking.docenteEncontrado}">
						<p:panel>
							<h:panelGrid columns="2">
								<p:outputLabel value="#{message['lbl.asignatura']}:" styleClass="negrita" />
								<p:selectOneMenu id="selecMateria" value="#{syllabusBean.materia}" effect="drop">
									<f:selectItem itemLabel="Seleccione" noSelectionOption="true" />
									<f:selectItems value="#{syllabusBacking.materias}" />
								</p:selectOneMenu>

								<p:outputLabel value="#{message['lbl.numHorasClase']}:" styleClass="negrita" />
								<p:inputText value="#{syllabusBean.numHorasClase}" />

								<p:outputLabel value="#{message['lbl.prerequisito']}:" styleClass="negrita" />
								<p:inputTextarea cols="50" value="#{syllabusBean.prerequisito}" />

								<p:outputLabel value="#{message['lbl.corequisito']}:" styleClass="negrita" />
								<p:inputTextarea cols="50" value="#{syllabusBean.corequisito}" />

								<p:outputLabel value="#{message['lbl.desAsignatura']}:" styleClass="negrita" />
								<p:inputTextarea cols="50" value="#{syllabusBean.desAsigantura}" />
							</h:panelGrid>

							<p:spacer height="20px;" />
							<!-- OBJETIVOS -->
							<p:panel>
								<h:panelGrid columns="2">
									<h:graphicImage name="help.png" library="img" />
									<p:outputLabel value="#{message['lbl.infoObjetivo']}" />
								</h:panelGrid>
								<h:panelGrid columns="1">
									<h:panelGrid columns="2">
										<p:outputLabel value="#{message['lbl.objetivo']}:" styleClass="negrita" />
										<p:inputText value="#{syllabusBean.objetivo}" />
									</h:panelGrid>
									<div align="center">
										<p:commandButton id="agregarObjetivo" update="tablaObjetivos" icon="icon-add" value="#{message['boton.agregar']}"
											actionListener="#{syllabusBean.addObjetivo()}" title="Agregar" />
									</div>
									<p:spacer height="30px;" />
									<p:dataTable id="tablaObjetivos" value="#{syllabusBean.objetivosDTOs}" var="obj" widgetVar="50" style="width: 40%;" editable="true">
										<p:ajax event="rowEdit" listener="#{syllabusBean.onEditObjetivo}" update="tablaObjetivos" />
										<p:ajax event="rowEditCancel" listener="#{syllabusBean.onCancelObjetivo}" update="tablaObjetivos" />
										<p:column>
											<f:facet name="header">
												<h:outputText value="#{message['lbl.objetivo']}" />
											</f:facet>
											<p:cellEditor>
												<f:facet name="output">
													<h:outputText value="#{obj.objetivo}" />
												</f:facet>
												<f:facet name="input">
													<p:inputText value="#{obj.objetivo}" />
												</f:facet>
											</p:cellEditor>
										</p:column>
										<p:column headerText="Options" style="width:50px">
											<p:rowEditor />
										</p:column>
									</p:dataTable>
								</h:panelGrid>
							</p:panel>
							<p:spacer height="20px;" />
							<!-- COMPETENCIAS -->
							<p:panel>
								<h:panelGrid columns="2">
									<h:graphicImage name="help.png" library="img" />
									<p:outputLabel value="#{message['lbl.infoCompetencia']}" />
								</h:panelGrid>
								<h:panelGrid columns="1">
									<h:panelGrid columns="2">
										<p:outputLabel value="#{message['lbl.competencia']}:" styleClass="negrita" />
										<p:inputText value="#{syllabusBean.competencia}" />
									</h:panelGrid>
									<div align="center">
										<p:commandButton id="agregarCompetencia" update="tablaCompetencias" icon="icon-add" value="#{message['boton.agregar']}"
											actionListener="#{syllabusBean.addCompetencia()}" title="Agregar" />
									</div>
									<p:spacer height="30px;" />
									<p:dataTable id="tablaCompetencias" value="#{syllabusBean.competenciasDTOs}" var="obj" widgetVar="50" style="width: 40%;" editable="true">
										<p:ajax event="rowEdit" listener="#{syllabusBean.onEditCompetencia}" update="tablaCompetencias" />
										<p:ajax event="rowEditCancel" listener="#{syllabusBean.onCancelCompetencia}" update="tablaCompetencias" />
										<p:column>
											<f:facet name="header">
												<h:outputText value="#{message['lbl.competencia']}" />
											</f:facet>
											<p:cellEditor>
												<f:facet name="output">
													<h:outputText value="#{obj.competencia}" />
												</f:facet>
												<f:facet name="input">
													<p:inputText value="#{obj.competencia}" />
												</f:facet>
											</p:cellEditor>
										</p:column>
										<p:column headerText="Options" style="width:50px">
											<p:rowEditor />
										</p:column>
									</p:dataTable>
								</h:panelGrid>
							</p:panel>
							<p:spacer height="20px;" />
							<!-- UNIDAD DE COMPETENCIA -->
							<p:panel>
								<h:panelGrid columns="2">
									<h:graphicImage name="help.png" library="img" />
									<p:outputLabel value="#{message['lbl.infoUnidad']}" />
								</h:panelGrid>
								<h:panelGrid columns="1">
									<h:panelGrid columns="2">
										<p:outputLabel value="#{message['lbl.unidadCompetencia']}:" styleClass="negrita" />
										<p:inputText value="#{syllabusBean.unidadCompetencia}" />

										<p:outputLabel value="#{message['lbl.planificacion']}:" styleClass="negrita" />
										<p:inputText value="#{syllabusBean.planificacion}" />
									</h:panelGrid>
									<!-- Elemento  de competencia -->
									<p:panel>
										<div align="center">
											<h:panelGrid columns="1">
												<h:panelGrid columns="2">
													<p:outputLabel value="#{message['lbl.elementosCompetencia']}:" styleClass="negrita" />
													<p:inputText value="#{syllabusBean.elementoCompetencia}" />
												</h:panelGrid>
												<div align="center">
													<p:commandButton id="agregarElementoCompetencia" update="tablaElementos" icon="icon-add" value="Agregar Elemento"
														actionListener="#{syllabusBean.addElemento()}" title="Agregar" />
												</div>
												<p:spacer height="20px;" />
												<p:dataTable id="tablaElementos" value="#{syllabusBean.elementosCompetencia}" var="obj" widgetVar="50" style="width: 40%;" editable="true">
													<p:ajax event="rowEdit" listener="#{syllabusBean.onEditElemento}" update="tablaElementos" />
													<p:ajax event="rowEditCancel" listener="#{syllabusBean.onCancelElemento}" update="tablaElementos" />
													<p:column>
														<f:facet name="header">
															<h:outputText value="#{message['lbl.elementosCompetencia']}" />
														</f:facet>
														<p:cellEditor>
															<f:facet name="output">
																<h:outputText value="#{obj.elementoCompetencia}" />
															</f:facet>
															<f:facet name="input">
																<p:inputText value="#{obj.elementoCompetencia}" />
															</f:facet>
														</p:cellEditor>
													</p:column>
													<p:column headerText="Options" style="width:50px">
														<p:rowEditor />
													</p:column>
												</p:dataTable>
											</h:panelGrid>
										</div>
									</p:panel>
									<div align="center">
										<p:commandButton id="agregarUnidadCompetencia" update="tablaUnidades" icon="icon-add" value="Agregar Unidad"
											actionListener="#{syllabusBean.addUnidad()}" title="Agregar" />
									</div>
									<p:spacer height="30px;" />
									<p:dataTable id="tablaUnidades" value="#{syllabusBean.unidadesDTOs}" var="obj" widgetVar="50" style="width: 40%;" editable="true">
										<p:ajax event="rowEditCancel" listener="#{syllabusBean.onCancelUnidad}" update="tablaUnidades" />
										<p:column>
											<f:facet name="header">
												<h:outputText value="#{message['lbl.unidadCompetencia']}" />
											</f:facet>
											<h:outputText value="#{obj.unidadCompetencia}" />
										</p:column>
										<p:column>
											<f:facet name="header">
												<h:outputText value="#{message['lbl.planificacion']}" />
											</f:facet>
											<h:outputText value="#{obj.planificacionHoras}" />
										</p:column>
										<p:column>
											<f:facet name="header">
												<h:outputText value="#{message['lbl.elementosCompetencia']}" />
											</f:facet>
											<p:dataList value="#{obj.elementosCompetencias}" var="elemento" type="ordered">
												<h:outputText value="#{elemento.elementoCompetencia}" />
											</p:dataList>
										</p:column>
										<p:column headerText="Options" style="width:50px">
											<p:rowEditor />
										</p:column>
									</p:dataTable>
								</h:panelGrid>
							</p:panel>
						</p:panel>
					</h:panelGrid>
				</div>
			</h:form>
		</p:panel>
	</ui:define>
</ui:composition>
</html>